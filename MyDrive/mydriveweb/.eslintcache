[{"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\index.js":"1","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\App.js":"2","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\reportWebVitals.js":"3","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\context.js":"4","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\homepage.js":"5","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\loginpage.js":"6","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\registerpage.js":"7","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\service.js":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":906,"mtime":1612377302524,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":84,"mtime":1612309860563,"results":"13","hashOfConfig":"10"},{"size":930,"mtime":1612378238466,"results":"14","hashOfConfig":"10"},{"size":2654,"mtime":1612377583380,"results":"15","hashOfConfig":"10"},{"size":2752,"mtime":1612314071657,"results":"16","hashOfConfig":"10"},{"size":1225,"mtime":1612377717272,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"bgggid",{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\index.js",[],["36","37"],"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\App.js",["38","39"],"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\reportWebVitals.js",[],"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\context.js",[],"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\homepage.js",["40"],"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\loginpage.js",["41"],"D:\\git\\misc\\MyDrive\\mydriveweb\\src\\registerpage.js",["42","43","44"],"\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { useContext, useState } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { SessionContext } from './context';\r\nimport { CreateUser } from './service';\r\n\r\nimport Promise from 'bluebird';\r\n\r\nexport function RegisterPage() {\r\n    const createAccount = () => {\r\n        // hash password\r\n        const passwordStream = new TextEncoder().encode(password1);\r\n        Promise.resolve(crypto.subtle.digest('SHA-256', passwordStream)).then(hashBuffer => {\r\n            const hashArray = Array.from(new Uint8Array(hashBuffer));                     // convert buffer to byte array\r\n            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join(''); // convert bytes to hex string\r\n            CreateUser(userName, hashHex, createAccountCallback, createAccountErrorCallback);\r\n        });\r\n    };\r\n\r\n    const createAccountCallback = () => {\r\n        setusercreated(true);\r\n    };\r\n\r\n    const createAccountErrorCallback = (errorcode) => {\r\n        setusercreateerror(errorcode);\r\n    }\r\n\r\n    const usernamechanged = (e) => {\r\n        setUserName(e.target.value);\r\n    };\r\n\r\n    const password1changed = (e) => {\r\n        setPassword1(e.target.value);\r\n    };\r\n\r\n    const password2changed = (e) => {\r\n        setPassword2(e.target.value);\r\n    };\r\n\r\n    const [userName, setUserName] = useState(null);\r\n    const [password1, setPassword1] = useState(null);\r\n    const [password2, setPassword2] = useState(null);\r\n    const [usercreated, setusercreated] = useState(false);\r\n    const [usercreateerror, setusercreateerror] = useState(null);\r\n\r\n    return (\r\n        <div>\r\n            <h1>Register MyDrive account here</h1>\r\n            <br />\r\n            <h2>User name</h2>\r\n            <input className=\"username\" onChange={usernamechanged} />\r\n            <h2>Password</h2>\r\n            <input className=\"password\" type=\"password\" onChange={password1changed} />\r\n            <h2>Repeat password</h2>\r\n            <input className=\"password2\" type=\"password\" onChange={password2changed} />\r\n            <br />\r\n            {password1 !== password2 &&\r\n                <div className=\"passwordunmatch\" >passwords don't match</div>\r\n            }\r\n            <Button disabled={!password1 || !password2 || password1 !== password2} onClick={createAccount}>Create account</Button>\r\n\r\n            {usercreated &&\r\n                <div><h2>Your account has been created successfully, please log in<Link to=\"/login\">Login</Link></h2>\r\n                </div>\r\n            }\r\n\r\n            {usercreateerror !== null && usercreateerror !== undefined && \r\n                <div><h2>Something went wrong, please try again</h2>\r\n                </div>}\r\n        </div>);\r\n};","D:\\git\\misc\\MyDrive\\mydriveweb\\src\\service.js",[],{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","severity":1,"message":"50","line":2,"column":17,"nodeType":"51","messageId":"52","endLine":2,"endColumn":27},{"ruleId":"49","severity":1,"message":"53","line":3,"column":10,"nodeType":"51","messageId":"52","endLine":3,"endColumn":16},{"ruleId":"49","severity":1,"message":"54","line":29,"column":19,"nodeType":"51","messageId":"52","endLine":29,"endColumn":24},{"ruleId":"49","severity":1,"message":"55","line":2,"column":10,"nodeType":"51","messageId":"52","endLine":2,"endColumn":18},{"ruleId":"49","severity":1,"message":"55","line":2,"column":10,"nodeType":"51","messageId":"52","endLine":2,"endColumn":18},{"ruleId":"49","severity":1,"message":"50","line":3,"column":10,"nodeType":"51","messageId":"52","endLine":3,"endColumn":20},{"ruleId":"49","severity":1,"message":"56","line":5,"column":10,"nodeType":"51","messageId":"52","endLine":5,"endColumn":24},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","'files' is assigned a value but never used.","'Redirect' is defined but never used.","'SessionContext' is defined but never used.","no-global-assign","no-unsafe-negation"]